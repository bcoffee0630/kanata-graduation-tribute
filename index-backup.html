<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="天音かなた卒業記念サイト | Amane Kanata Memorial Website">

    <!-- Open Graph -->
    <meta property="og:title" content="天音かなた卒業記念 | Amane Kanata Memorial">
    <meta property="og:description" content="Forever Kanata - 永遠にかなた">
    <meta property="og:image" content="images/kanata-graduation-live.png">
    <meta property="og:url" content="https://bcoffee0630.github.io/kanata-graduation-tribute/">

    <title>天音かなた 卒業メモリアル</title>

    <link rel="icon" type="image/png" href="shooting-star.png">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/gallery.css">
    <link rel="stylesheet" href="assets/css/danmaku.css">
    <link rel="stylesheet" href="assets/css/modal.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@300;500;700&family=Noto+Sans+JP:wght@300;400;700&family=Noto+Sans+TC:wght@300;400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- 語言選擇器 & 認證 -->
    <div class="language-selector">
        <div class="auth-container">
            <button id="login-button">
                <svg viewBox="0 0 16 16" fill="currentColor"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
                <span data-i18n="auth.login">ログイン</span>
            </button>
            <div id="user-display">
                <img class="user-avatar" src="" alt="">
                <span class="user-name"></span>
                <button id="logout-button" data-i18n="auth.logout">ログアウト</button>
            </div>
        </div>
        <button onclick="i18n.switchLanguage('ja')" class="lang-btn" data-lang="ja">
            JP
        </button>
        <button onclick="i18n.switchLanguage('zh-TW')" class="lang-btn" data-lang="zh-TW">
            TW
        </button>
        <button onclick="i18n.switchLanguage('en')" class="lang-btn" data-lang="en">
            EN
        </button>
    </div>

    <!-- 主要 Header -->
    <header class="main-header">
        <div class="header-bg"></div>
        <div class="header-content">
            <h1 data-i18n="header_title">天音かなた 卒業記念</h1>
            <div class="counter-container">
                <p class="counter-prefix" data-i18n="day_counter_prefix">卒業日 2025/12/27 から</p>
                <h2 class="counter-number">
                    <span id="day-counter-number">0</span>
                    <span class="counter-unit" data-i18n="day_counter_unit">日</span>
                </h2>
            </div>
        </div>
    </header>

    <!-- 導航 -->
    <nav class="main-nav">
        <ul>
            <li><a href="#intro" data-i18n="nav.home">ホーム</a></li>
            <li><a href="#danmaku-section" data-i18n="nav.messages">メッセージ</a></li>
            <li><a href="#gallery-section" data-i18n="nav.gallery">ギャラリー</a></li>
            <li><a href="https://www.youtube.com/channel/UCZlDXzGoo7d44bwdNObFacg" target="_blank" data-i18n="nav.youtube">YouTube</a></li>
            <li><a href="https://x.com/amanekanatach" target="_blank" data-i18n="nav.twitter">Twitter</a></li>
        </ul>
    </nav>

    <!-- 主要內容 -->
    <main>
        <!-- 紀念介紹區塊 -->
        <section id="intro" class="content-section intro-section reveal-on-scroll">
            <div class="container">
                <h2 data-i18n="sections.intro_title">永遠に、かなたと共に</h2>
                <p data-i18n="sections.intro_text">
                    このサイトは、天音かなたさんの思い出を共有し、彼女と過ごした時間を永遠に記憶するためのファンメモリアルです。かなたんが残してくれた歌声、笑顔、そして数え切れない思い出は、私たちの心の中で生き続けます。
                </p>
            </div>
        </section>

        <!-- 彈幕留言區 -->
        <section id="danmaku-section" class="danmaku-section reveal-on-scroll">
            <h2 data-i18n="sections.fan_messages">ファンからのメッセージ</h2>
            <div id="danmaku-container"></div>
            <div id="danmaku-controls">
                <button class="danmaku-play-pause" data-i18n="danmaku.pause">⏸</button>
            </div>
            <div class="danmaku-contribute">
                <p data-i18n="sections.contribute_message">メッセージを追加したい方は、下のボタンをクリックしてください。</p>
                <button id="submit-message-btn" class="submit-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg>
                    <span data-i18n="sections.submit_message_button">メッセージを投稿</span>
                </button>
                <div class="login-prompt">
                    <p data-i18n="auth.login_to_submit">投稿するにはログインしてください</p>
                </div>
            </div>
        </section>

        <!-- 粉絲畫廊區 -->
        <section id="gallery-section" class="gallery-section reveal-on-scroll">
            <div class="container">
                <h2 data-i18n="sections.gallery_title">ファンアートギャラリー</h2>
                <div id="gallery-grid"></div>
                <button id="load-more-btn" class="load-more-btn" style="display: none;" data-i18n="gallery.load_more">もっと見る</button>
                <div class="gallery-contribute">
                    <p data-i18n="sections.contribute_art">イラストを投稿したい方は、下のボタンをクリックしてください。</p>
                    <button id="submit-fanart-btn" class="submit-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg>
                        <span data-i18n="sections.submit_art_button">イラストを投稿</span>
                    </button>
                    <div class="login-prompt">
                        <p data-i18n="auth.login_to_submit">投稿するにはログインしてください</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close">&times;</button>
            <button class="lightbox-nav lightbox-prev">&#10094;</button>
            <button class="lightbox-nav lightbox-next">&#10095;</button>
            <div class="lightbox-image"></div>
            <div class="lightbox-info"></div>
        </div>
    </div>

    <!-- Message Modal -->
    <div id="message-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="modal.message_title">メッセージを投稿</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="message-form">
                    <div class="form-group">
                        <label for="message-content" data-i18n="modal.message">メッセージ</label>
                        <textarea id="message-content" maxlength="500" required placeholder=""></textarea>
                        <div id="char-count">0/500</div>
                    </div>
                    <div class="submit-confirmation">
                        <label class="confirm-label">
                            <input type="checkbox" class="confirm-checkbox" required>
                            <span data-i18n="modal.confirm_appropriate">不当な発言や差別的な内容を含んでいません</span>
                        </label>
                        <label class="confirm-label">
                            <input type="checkbox" class="confirm-checkbox" required>
                            <span data-i18n="modal.confirm_political">政治的に敏感な内容を含んでいません</span>
                        </label>
                        <label class="confirm-label">
                            <input type="checkbox" class="confirm-checkbox" required>
                            <span data-i18n="modal.confirm_copyright">他者の著作権を侵害していません</span>
                        </label>
                        <label class="confirm-label">
                            <input type="checkbox" class="confirm-checkbox" required>
                            <span data-i18n="modal.confirm_guidelines">コミュニティガイドラインに同意します</span>
                        </label>
                    </div>
                    <button type="submit" class="submit-form-btn" disabled data-i18n="modal.submit">送信</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Fanart Modal -->
    <div id="fanart-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="modal.fanart_title">イラストを投稿</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="fanart-form">
                    <div class="form-group">
                        <div class="upload-area">
                            <input type="file" id="fanart-image" accept="image/png,image/jpeg" required>
                            <label for="fanart-image">
                                <div class="upload-icon">📷</div>
                                <div class="upload-text" data-i18n="modal.upload_image">画像をアップロード</div>
                                <div class="upload-hint">PNG, JPG (10MB以下)</div>
                            </label>
                        </div>
                        <div id="image-preview"></div>
                    </div>
                    <div class="form-group">
                        <label for="fanart-caption" data-i18n="modal.caption">キャプション</label>
                        <input type="text" id="fanart-caption" data-i18n-placeholder="modal.caption_placeholder" placeholder="任意">
                    </div>
                    <div class="form-group">
                        <label for="artist-link" data-i18n="modal.artist_link">SNSリンク (任意)</label>
                        <input type="url" id="artist-link" placeholder="https://twitter.com/...">
                        <small data-i18n="modal.artist_link_hint">Twitter, Pixiv, etc.</small>
                    </div>
                    <div class="submit-confirmation">
                        <label class="confirm-label">
                            <input type="checkbox" class="confirm-checkbox" required>
                            <span data-i18n="modal.confirm_appropriate">不当な発言や差別的な内容を含んでいません</span>
                        </label>
                        <label class="confirm-label">
                            <input type="checkbox" class="confirm-checkbox" required>
                            <span data-i18n="modal.confirm_political">政治的に敏感な内容を含んでいません</span>
                        </label>
                        <label class="confirm-label">
                            <input type="checkbox" class="confirm-checkbox" required>
                            <span data-i18n="modal.confirm_copyright">他者の著作権を侵害していません</span>
                        </label>
                        <label class="confirm-label">
                            <input type="checkbox" class="confirm-checkbox" required>
                            <span data-i18n="modal.confirm_guidelines">コミュニティガイドラインに同意します</span>
                        </label>
                    </div>
                    <button type="submit" class="submit-form-btn" disabled data-i18n="modal.submit">送信</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p class="forever-kanata" data-i18n="footer.forever_kanata">永遠にかなた</p>
            <div class="credits">
                <p data-i18n="footer.credits_title">Credits:</p>
                <ul>
                    <li>Header: <a href="https://www.youtube.com/watch?v=IdXhY6zGC4s" target="_blank">誰も見てない夢を見ろ - 天音かなた</a></li>
                    <li>Background: <a href="https://www.youtube.com/watch?v=8iGGL_0CEpc" target="_blank">天音かなた卒業ライブ</a></li>
                    <li><a href="https://www.flaticon.com/free-icons/star" title="star icons" target="_blank">Star icons created by Freepik - Flaticon</a></li>
                </ul>
            </div>
            <div class="footer-links">
                <a href="https://github.com/bcoffee0630/kanata-graduation-tribute" target="_blank" data-i18n="footer.github">GitHub</a>
                <span>|</span>
                <a href="https://github.com/bcoffee0630/kanata-graduation-tribute/blob/main/.github/CONTRIBUTING.md" target="_blank" data-i18n="footer.contribute">貢献ガイド</a>
            </div>
        </div>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-storage-compat.js"></script>

    <!-- Core Scripts -->
    <script src="assets/js/i18n.js"></script>
    <script src="assets/js/counter.js"></script>

    <!-- Firebase Integration -->
    <script src="assets/js/firebase-config.js"></script>
    <script src="assets/js/firebase-init.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/submit.js"></script>
    <script src="assets/js/report.js"></script>

    <!-- Features -->
    <script src="assets/js/gallery.js"></script>
    <script src="assets/js/danmaku.js"></script>
    <script src="assets/js/effects.js"></script>
    <script src="assets/js/animations.js"></script>
</body>
</html>
